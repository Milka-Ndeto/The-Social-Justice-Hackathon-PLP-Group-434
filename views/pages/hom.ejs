<%- include('../partials/header.js') %>

<h1>Welcome to Our Site</h1>

<% if (user) { %>
  <p>Hello, user!</p>
  <a href="/dashboard">Go to Dashboard</a>
  <div id="user-button"></div>
<% } else { %>
  <div id="sign-in"></div>
<% } %>

<script>
  const clerkPubKey = '<%= clerkPubKey %>';
  const clerk = new Clerk(clerkPubKey);
  clerk.load().then(() => {
    if (clerk.user) {
      const userButtonDiv = document.getElementById('user-button');
      clerk.mountUserButton(userButtonDiv);
    } else {
      const signInDiv = document.getElementById('sign-in');
      clerk.mountSignIn(signInDiv);
    }
  });
</script>

<%- include('../partials/footer.js') %>